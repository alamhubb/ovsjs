export class GuideBot {
    constructor() {
        this.projectName = 'ä»»åŠ¡ç®¡ç†å·¥å…·'
        this.messages = [
            { type: 'ai', content: 'æˆ‘ç”Ÿæˆäº†ä¸€ä¸ªè¶…ç®€å•ç‰ˆçš„ä»»åŠ¡ç®¡ç†å·¥å…·ï¼Œä½ å¯ä»¥åœ¨å³ä¾§é¢„è§ˆåŒºè¯•è¯•ã€‚' },
            { type: 'ai', content: 'ç°åœ¨åªæœ‰æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼šæ·»åŠ ä»»åŠ¡ã€æ ‡è®°å®Œæˆã€‚' }
        ]
        this.tasks = [
            { id: 1, title: 'å®Œæˆé¡¹ç›®éœ€æ±‚æ–‡æ¡£', completed: false },
            { id: 2, title: 'è®¾è®¡é¡µé¢å¸ƒå±€', completed: true },
            { id: 3, title: 'å®ç°æ ¸å¿ƒåŠŸèƒ½', completed: false }
        ]
        this.newTaskInput = ''
        this.chatInput = ''
    }
    
    addTask() {
        if (this.newTaskInput.trim()) {
            this.tasks.push({
                id: Date.now(),
                title: this.newTaskInput,
                completed: false
            })
            this.newTaskInput = ''
        }
    }
    
    toggleTask(task) {
        task.completed = !task.completed
    }
    
    render() {
        return div({ class: 'container' }) {
            // å·¦ä¾§å¯¹è¯åŒº
            div({ class: 'chat-panel' }) {
                // å¤´éƒ¨
                div({ class: 'chat-header' }) {
                    h1 { 'GuideBot' }
                    input({
                        type: 'text',
                        class: 'project-input',
                        placeholder: 'é¡¹ç›®åç§°ï¼ˆä¾‹å¦‚ï¼šä»»åŠ¡ç®¡ç†å·¥å…·ï¼‰',
                        value: this.projectName,
                        onInput: (e) => this.projectName = e.target.value
                    })
                }
                
                // æ¶ˆæ¯åˆ—è¡¨
                div({ class: 'chat-messages' }) {
                    this.messages.map(msg =>
                        div({ class: `message ${msg.type}` }) {
                            p { msg.content }
                        }
                    )
                    
                    div({ class: 'message ai' }) {
                        p { 'å“ªé‡Œéœ€è¦è°ƒæ•´ï¼Ÿ' }
                        div({ class: 'option-card' }) { 'ğŸ’¡ æ·»åŠ åˆ é™¤æŒ‰é’®' }
                        div({ class: 'option-card' }) { 'ğŸ¨ ä¿®æ”¹é¢œè‰²é£æ ¼' }
                        div({ class: 'option-card' }) { 'ğŸ“ æ·»åŠ ä»»åŠ¡åˆ†ç±»' }
                        div({ class: 'option-card' }) { 'âœï¸ è‡ªå·±æè¿°...' }
                    }
                }
                
                // è¾“å…¥åŒº
                div({ class: 'chat-input-area' }) {
                    textarea({
                        class: 'chat-input',
                        rows: 3,
                        placeholder: 'æˆ–è€…ç›´æ¥å‘Šè¯‰æˆ‘ä½ æƒ³è°ƒæ•´ä»€ä¹ˆ...',
                        value: this.chatInput,
                        onInput: (e) => this.chatInput = e.target.value
                    })
                }
            }
            
            // ä¸­é—´é¢„è§ˆåŒº
            div({ class: 'preview-panel' }) {
                // å·¥å…·æ 
                div({ class: 'preview-toolbar' }) {
                    span({ style: { fontWeight: '500', marginRight: 'auto' } }) { 'å®æ—¶é¢„è§ˆ' }
                    button({ class: 'device-btn active' }) { 'ğŸ’» æ¡Œé¢' }
                    button({ class: 'device-btn' }) { 'ğŸ“± æ‰‹æœº' }
                    button({ class: 'device-btn' }) { 'ğŸ”„ åˆ·æ–°' }
                }
                
                // é¢„è§ˆå†…å®¹
                div({ class: 'preview-frame' }) {
                    div({ class: 'preview-content' }) {
                        div({ class: 'demo-app' }) {
                            h1 { 'æˆ‘çš„ä»»åŠ¡' }
                            
                            // æ·»åŠ ä»»åŠ¡è¾“å…¥æ¡†
                            div({ class: 'task-input-area' }) {
                                input({
                                    type: 'text',
                                    placeholder: 'è¾“å…¥æ–°ä»»åŠ¡...',
                                    value: this.newTaskInput,
                                    onInput: (e) => this.newTaskInput = e.target.value,
                                    onKeypress: (e) => e.key === 'Enter' && this.addTask()
                                })
                                button({ onClick: () => this.addTask() }) { 'æ·»åŠ ' }
                            }
                            
                            // ä»»åŠ¡åˆ—è¡¨
                            div({ class: 'task-list' }) {
                                this.tasks.map(task =>
                                    div({
                                        class: `task-item${task.completed ? ' completed' : ''}`,
                                        key: task.id
                                    }) {
                                        input({
                                            type: 'checkbox',
                                            checked: task.completed,
                                            onChange: () => this.toggleTask(task)
                                        })
                                        span { task.title }
                                    }
                                )
                            }
                        }
                    }
                }
            }
            
            // å³ä¾§æ–‡æ¡£åŒº
            div({ class: 'doc-panel' }) {
                div({ class: 'doc-header' }) {
                    h2 { 'éœ€æ±‚æ–‡æ¡£' }
                }
                
                div({ class: 'doc-content' }) {
                    div({ class: 'doc-section' }) {
                        h3 { 'ğŸ“‹ åŠŸèƒ½æ¸…å•' }
                        div { 'âœ… æ·»åŠ ä»»åŠ¡' }
                        div { 'âœ… æ ‡è®°å®Œæˆ' }
                        div { 'â³ åˆ é™¤ä»»åŠ¡ï¼ˆå¾…æ·»åŠ ï¼‰' }
                    }
                    
                    div({ class: 'doc-section' }) {
                        h3 { 'ğŸ¨ ç”¨æˆ·ä½“éªŒ' }
                        div { 'å•é¡µé¢åº”ç”¨' }
                        div { 'ç®€æ´é£æ ¼' }
                        div { 'æ¡Œé¢ä¼˜å…ˆ' }
                    }
                    
                    div({ class: 'doc-section' }) {
                        h3 { 'ğŸ’¾ æŠ€æœ¯æ ˆ' }
                        div { 'OVS + Vue 3' }
                        div { 'localStorageå­˜å‚¨' }
                        div { 'æ— éœ€åç«¯' }
                    }
                    
                    div({ class: 'doc-section' }) {
                        h3 { 'ğŸ“Š æ•°æ®ç»“æ„' }
                        div { 'Task: {id, title, completed}' }
                    }
                }
                
                div({ class: 'doc-footer' }) {
                    button({ class: 'download-btn' }) { 'ğŸ“¥ ä¸‹è½½éœ€æ±‚æ–‡æ¡£' }
                }
            }
        }
    }
}


