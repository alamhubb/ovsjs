# Issue #9 ä¿®å¤æ–¹æ¡ˆï¼šç»Ÿä¸€ç©ºæ ¼å¤„ç†æ–¹æ³•

## ğŸŸ¡ é—®é¢˜æ¦‚è¿°

å½“å‰ä»£ç ä¸­å­˜åœ¨3ç§ä¸åŒçš„ç©ºæ ¼å¤„ç†æ–¹å¼ï¼Œå¯¼è‡´ä»£ç ä¸ç»Ÿä¸€ï¼š

```typescript
// æ–¹å¼1ï¼šaddSpacing() - ä½¿ç”¨ es6TokensObj.Spacingï¼ˆ63æ¬¡ï¼‰
this.addSpacing()

// æ–¹å¼2ï¼šaddCodeSpacing() - ä½¿ç”¨ addString(' ')ï¼ˆ11æ¬¡ï¼‰
this.addCodeSpacing()

// æ–¹å¼3ï¼šç›´æ¥ä½¿ç”¨ addString(' ')ï¼ˆ2æ¬¡ï¼‰
this.addString(' ')
```

**é—®é¢˜ï¼š**
- ä¸‰ç§æ–¹æ³•åšåŒä¸€ä»¶äº‹ï¼Œä¸ç»Ÿä¸€
- è®©ç»´æŠ¤è€…å›°æƒ‘åº”è¯¥ç”¨å“ªä¸ª
- ä»£ç é£æ ¼ä¸ä¸€è‡´

---

## ğŸ” å½“å‰å®ç°åˆ†æ

### æ–¹å¼1ï¼šaddSpacing()ï¼ˆline 1055-1057ï¼‰
```typescript
private static addSpacing() {
  this.addCode(es6TokensObj.Spacing)
}
```

**ç‰¹ç‚¹ï¼š**
- ä½¿ç”¨é¢„å®šä¹‰çš„ Spacing token
- é€šè¿‡ `addCode()` è°ƒç”¨ï¼Œå¯èƒ½æ¶‰åŠ token å¤„ç†
- ä½¿ç”¨æœ€å¹¿æ³›ï¼ˆ63æ¬¡ï¼‰

---

### æ–¹å¼2ï¼šaddCodeSpacing()ï¼ˆline 1315-1317ï¼‰
```typescript
private static addCodeSpacing() {
  this.addString(' ')
}
```

**ç‰¹ç‚¹ï¼š**
- ç›´æ¥è°ƒç”¨ `addString(' ')`
- ä¸è®°å½• source map
- ä½¿ç”¨è¾ƒå°‘ï¼ˆ11æ¬¡ï¼‰

---

### æ–¹å¼3ï¼šç›´æ¥ addString(' ')ï¼ˆ2æ¬¡ï¼‰
```typescript
this.addString(' ')  // ç›´æ¥è°ƒç”¨
```

**ç‰¹ç‚¹ï¼š**
- æœ€ç›´æ¥çš„æ–¹å¼
- ä¸è®°å½• source map
- ä½¿ç”¨æœ€å°‘ï¼ˆ2æ¬¡ï¼‰

---

## ğŸ“Š ä½¿ç”¨æƒ…å†µç»Ÿè®¡

| æ–¹æ³• | ä½¿ç”¨æ¬¡æ•° | å®ç°æ–¹å¼ | æ˜¯å¦è®°å½• mapping |
|------|---------|---------|-----------------|
| addSpacing() | 63æ¬¡ | es6TokensObj.Spacing | å¯èƒ½ |
| addCodeSpacing() | 11æ¬¡ | addString(' ') | å¦ |
| addString(' ') | 2æ¬¡ | ç›´æ¥æ‹¼æ¥ | å¦ |
| **æ€»è®¡** | **76æ¬¡** | - | - |

---

## ğŸ“ addCodeSpacing() çš„11ä¸ªä½¿ç”¨ä½ç½®

1. **generatorVariableDeclarationCore**ï¼ˆline 1122ï¼‰- å˜é‡å£°æ˜å…³é”®å­—å
2. **generatorVariableDeclarationCore**ï¼ˆline 1128ï¼‰- å˜é‡å£°æ˜é€—å·å
3. **generatorVariableDeclarator**ï¼ˆline 1155ï¼‰- å˜é‡åå
4. **generatorVariableDeclarator**ï¼ˆline 1158ï¼‰- ç­‰å·å
5. **generatorForInOfStatement**ï¼ˆline 1404ï¼‰- for å…³é”®å­—å
6. **generatorForInOfStatement**ï¼ˆline 1410ï¼‰- å˜é‡å£°æ˜å…³é”®å­—å
7. **generatorForInOfStatement**ï¼ˆline 1420ï¼‰- in/of å‰
8. **generatorForInOfStatement**ï¼ˆline 1426ï¼‰- in/of å
9. **generatorExportDefaultDeclaration**ï¼ˆline 1636ï¼‰- export å
10. **generatorExportDefaultDeclaration**ï¼ˆline 1638ï¼‰- default å

---

## âœ… ä¿®å¤æ–¹æ¡ˆ

### æ–¹æ¡ˆAï¼šå…¨éƒ¨ç»Ÿä¸€ä¸º addSpacing()ï¼ˆæ¨èï¼‰â­

**æ”¹åŠ¨ï¼š**
1. å°†æ‰€æœ‰ `addCodeSpacing()` æ›¿æ¢ä¸º `addSpacing()`ï¼ˆ11å¤„ï¼‰
2. å°† `addString(' ')` æ›¿æ¢ä¸º `addSpacing()`ï¼ˆ2å¤„ï¼‰
3. åœ¨ `addCodeSpacing()` ä¸Šæ·»åŠ  `@deprecated` æ³¨é‡Š

**ä¼˜ç‚¹ï¼š**
- âœ… ç»Ÿä¸€ä½¿ç”¨æœ€å¹¿æ³›çš„æ–¹æ³•
- âœ… ä»£ç é£æ ¼ä¸€è‡´
- âœ… æ˜“äºç»´æŠ¤

**ç¼ºç‚¹ï¼š**
- âš ï¸ æ”¹åŠ¨èŒƒå›´è¾ƒå¤§ï¼ˆ13å¤„ï¼‰
- âš ï¸ éœ€è¦ä»”ç»†æµ‹è¯•

**å®ç°æ–¹å¼ï¼š**
```diff
  // å…¨å±€æ›¿æ¢
- this.addCodeSpacing()
+ this.addSpacing()

- this.addString(' ')
+ this.addSpacing()

  // æ ‡è®°åºŸå¼ƒ
+ /**
+  * @deprecated ä½¿ç”¨ addSpacing() ä»£æ›¿
+  */
  private static addCodeSpacing() {
    this.addString(' ')
  }
```

---

### æ–¹æ¡ˆBï¼šä¿æŒç°çŠ¶ï¼ˆä¸æ¨èï¼‰âŒ

**ç†ç”±ï¼š**
- ä»£ç ä¸ä¸€è‡´
- é•¿æœŸç»´æŠ¤å›°éš¾
- ä¸ç¬¦åˆä»£ç æ•´æ´åŸåˆ™

---

## ğŸ§ª æµ‹è¯•è®¡åˆ’

ä¿®å¤åéœ€è¦è¿è¡Œä»¥ä¸‹æµ‹è¯•ï¼š

### æµ‹è¯•1ï¼šå˜é‡å£°æ˜
```javascript
const a = 1, b = 2;
let x = 10;
```
éªŒè¯ï¼šå…³é”®å­—ã€é€—å·ã€ç­‰å·åçš„ç©ºæ ¼æ­£å¸¸

### æµ‹è¯•2ï¼šfor...in/of è¯­å¥
```javascript
for (const item of arr) { }
for (const key in obj) { }
```
éªŒè¯ï¼šå…³é”®å­—å’Œ in/of å‰åçš„ç©ºæ ¼æ­£å¸¸

### æµ‹è¯•3ï¼šexport default
```javascript
export default MyComponent
```
éªŒè¯ï¼šexport å’Œ default åçš„ç©ºæ ¼æ­£å¸¸

### æµ‹è¯•4ï¼šç»¼åˆæµ‹è¯•
åŒ…å«æ‰€æœ‰ä½¿ç”¨ç©ºæ ¼çš„åœºæ™¯ï¼ŒéªŒè¯ç»Ÿä¸€æ€§

---

## ğŸ“Š ä¿®å¤ç»Ÿè®¡

| é¡¹ç›® | æ•°å€¼ |
|------|------|
| éœ€è¦æ›¿æ¢çš„ä½ç½® | 13å¤„ |
| addCodeSpacing() | 11å¤„ |
| addString(' ') | 2å¤„ |
| æ”¹åŠ¨ç±»å‹ | å…¨å±€æ›¿æ¢ |
| æ‰§è¡Œéš¾åº¦ | â­â­â­ ä¸­ç­‰ |
| é¢„è®¡æ—¶é—´ | 30åˆ†é’Ÿ |
| é£é™©ç­‰çº§ | ä¸­ç­‰ |
| åŠŸèƒ½å½±å“ | ç†è®ºä¸Šæ— ï¼ˆéƒ½æ˜¯æ·»åŠ ç©ºæ ¼ï¼‰|

---

## âš ï¸ é£é™©è¯„ä¼°

### æ½œåœ¨é£é™©

#### é£é™©1ï¼šaddSpacing() å¯èƒ½è®°å½• mapping
```typescript
private static addSpacing() {
  this.addCode(es6TokensObj.Spacing)  // å¯èƒ½è®°å½• mapping
}

private static addCodeSpacing() {
  this.addString(' ')  // ä¸è®°å½• mapping
}
```

**å½±å“ï¼š**
- å¯èƒ½å¢åŠ ä¸å¿…è¦çš„ source map æ˜ å°„
- ä½†ç©ºæ ¼æœ¬èº«ä¸åº”è¯¥è¢«æ˜ å°„ï¼Œæ‰€ä»¥å®é™…å½±å“å¯èƒ½å¾ˆå°

**ç¼“è§£æªæ–½ï¼š**
- ä¿®å¤åè¿è¡Œå®Œæ•´çš„ source map æµ‹è¯•
- éªŒè¯æ˜ å°„å‡†ç¡®æ€§

#### é£é™©2ï¼šæ”¹åŠ¨èŒƒå›´è¾ƒå¤§
- 13å¤„æ”¹åŠ¨ï¼Œå¯èƒ½é—æ¼æˆ–å‡ºé”™
- éœ€è¦ä»”ç»†æµ‹è¯•æ‰€æœ‰åœºæ™¯

**ç¼“è§£æªæ–½ï¼š**
- ä½¿ç”¨å…¨å±€æŸ¥æ‰¾æ›¿æ¢
- é€ä¸€éªŒè¯æ¯å¤„ä¿®æ”¹
- è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶

---

## ğŸ¤” æˆ‘çš„å»ºè®®

### å»ºè®®1ï¼šæš‚ä¸æ‰§è¡Œï¼ˆæ¨èï¼‰â­

**ç†ç”±ï¼š**
1. æ”¹åŠ¨èŒƒå›´è¾ƒå¤§ï¼ˆ13å¤„ï¼‰
2. é£é™©ä¸­ç­‰ï¼ˆå¯èƒ½å½±å“ source mapï¼‰
3. æ”¶ç›Šæœ‰é™ï¼ˆåªæ˜¯ç»Ÿä¸€æ–¹æ³•åç§°ï¼‰
4. å½“å‰ä»£ç åŠŸèƒ½æ­£å¸¸

**ä½œä¸ºé•¿æœŸä¼˜åŒ–è®¡åˆ’ï¼š**
- åœ¨æœªæ¥é‡æ„æ—¶è€ƒè™‘
- æˆ–åœ¨æœ‰æ›´å¤šæ—¶é—´æ—¶æ‰§è¡Œ
- ä¼˜å…ˆçº§ä½äºåŠŸèƒ½å¼€å‘

---

### å»ºè®®2ï¼šæ‰§è¡Œä¿®å¤ï¼ˆå¦‚æœè¿½æ±‚å®Œç¾ï¼‰

**ç†ç”±ï¼š**
1. ç»Ÿä¸€ä»£ç é£æ ¼
2. æé«˜å¯ç»´æŠ¤æ€§
3. æ¶ˆé™¤æŠ€æœ¯å€ºåŠ¡

**æ‰§è¡Œæ¡ä»¶ï¼š**
- æœ‰å……è¶³æ—¶é—´è¿›è¡Œæµ‹è¯•
- å¯ä»¥æ¥å—ä¸­ç­‰é£é™©
- é‡è§†ä»£ç è´¨é‡

---

## ğŸ¯ å…·ä½“æ”¹åŠ¨é¢„è§ˆï¼ˆå¦‚æœæ‰§è¡Œï¼‰

### æ”¹åŠ¨ä½ç½®åˆ—è¡¨

**å˜é‡å£°æ˜ç›¸å…³ï¼ˆ4å¤„ï¼‰ï¼š**
1. line 1122: `generatorVariableDeclarationCore` - å…³é”®å­—å
2. line 1128: `generatorVariableDeclarationCore` - é€—å·å
3. line 1155: `generatorVariableDeclarator` - å˜é‡åå
4. line 1158: `generatorVariableDeclarator` - ç­‰å·å

**for...in/of è¯­å¥ï¼ˆ4å¤„ï¼‰ï¼š**
5. line 1404: `generatorForInOfStatement` - for å…³é”®å­—å
6. line 1410: `generatorForInOfStatement` - å˜é‡å£°æ˜å…³é”®å­—å
7. line 1420: `generatorForInOfStatement` - in/of å‰
8. line 1426: `generatorForInOfStatement` - in/of å

**export è¯­å¥ï¼ˆ2å¤„ï¼‰ï¼š**
9. line 1636: `generatorExportDefaultDeclaration` - export å
10. line 1638: `generatorExportDefaultDeclaration` - default å

**å…¶ä»–ï¼ˆ1å¤„ï¼‰ï¼š**
11. line 1316: `addCodeSpacing` æ–¹æ³•å®šä¹‰ï¼ˆæ ‡è®° @deprecatedï¼‰

**addString(' ')ï¼ˆ2å¤„ï¼‰ï¼š**
12-13. line 926, å…¶ä»–ä½ç½®

---

## ğŸ¤” è¯·ç¡®è®¤æ˜¯å¦æ‰§è¡Œ Issue #9 ä¿®å¤

**ä¿®å¤å†…å®¹ï¼š** ç»Ÿä¸€ç©ºæ ¼å¤„ç†æ–¹æ³•ï¼ˆ13å¤„å…¨å±€æ›¿æ¢ï¼‰

**æˆ‘çš„å»ºè®®ï¼š** âŒ æš‚ä¸æ‰§è¡Œï¼ˆä½œä¸ºé•¿æœŸä¼˜åŒ–è®¡åˆ’ï¼‰

**ç†ç”±ï¼š**
- æ”¹åŠ¨èŒƒå›´å¤§ï¼ˆ13å¤„ï¼‰
- é£é™©ä¸­ç­‰ï¼ˆå¯èƒ½å½±å“ source mapï¼‰
- æ”¶ç›Šæœ‰é™ï¼ˆåªæ˜¯ç»Ÿä¸€å‘½åï¼‰
- å½“å‰åŠŸèƒ½æ­£å¸¸

**æ˜¯å¦æ‰§è¡Œï¼Ÿ**
- âœ… æ‰§è¡Œä¿®å¤ï¼ˆè¿½æ±‚å®Œç¾ï¼Œéœ€è¦æ›´å¤šæµ‹è¯•ï¼‰
- âŒ æš‚ä¸æ‰§è¡Œï¼ˆæ¨èï¼Œä½œä¸ºé•¿æœŸè®¡åˆ’ï¼‰

**ç­‰å¾…ä½ çš„ç¡®è®¤...** ğŸ¤”

